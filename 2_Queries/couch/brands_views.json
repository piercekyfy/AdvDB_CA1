{
    "views": {
        "models": {
            "map": "function(doc) { if(!doc.model_name) return; emit(doc.model_name, doc._rev); }"
        },
        "all": {
            "map": "function(doc) { if(!doc.brand_name) return; emit(doc.brand_name, doc._rev); }"
        },
        "all_lower": {
            "map": "function(doc) { if(!doc.brand_name) return; emit(doc.brand_name.toLowerCase(), doc._rev); }"
        },
        "sum_specification_count": {
            "map": "function(doc) { if(!doc.brand_name) return; emit(doc.brand_name, Object.keys(doc.specifications).length); }",
            "reduce": "_sum"
        },
        "count_devices": {
            "map": "function(doc) { if(!doc.brand_name) return; emit(doc.brand_name, doc._rev); }",
            "reduce": "_count"
        },
        "android_devices": {
            "map": "function(doc) { if(!doc.brand_name) return; if(doc.specifications && doc.specifications.Platform && doc.specifications.Platform.OS && doc.specifications.Platform.OS.toLowerCase().includes(\"android\")) emit(doc.brand_name, 1); }",
            "reduce": "_stats"
        }
    }
}